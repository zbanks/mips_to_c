struct _mips2c_stack_BgHakuginPost_Destroy {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_BgHakuginPost_Init {
    /* 0x00 */ char pad0[0x20];
};                                                  /* size = 0x20 */

struct _mips2c_stack_BgHakuginPost_Update {
    /* 0x00 */ char pad0[0x20];
};                                                  /* size = 0x20 */

struct _mips2c_stack_func_80A9ACD0 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9ACF0 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9AD18 {
    /* 0x00 */ char pad0[0x40];
};                                                  /* size = 0x40 */

struct _mips2c_stack_func_80A9AE3C {
    /* 0x00 */ char pad0[0x28];
};                                                  /* size = 0x28 */

struct _mips2c_stack_func_80A9AEB8 {
    /* 0x00 */ char pad0[0x38];
};                                                  /* size = 0x38 */

struct _mips2c_stack_func_80A9AFB4 {
    /* 0x00 */ char pad0[0x30];
};                                                  /* size = 0x30 */

struct _mips2c_stack_func_80A9B160 {
    /* 0x00 */ char pad0[0x40];
};                                                  /* size = 0x40 */

struct _mips2c_stack_func_80A9B244 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9B2B8 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9B32C {};              /* size 0x0 */

struct _mips2c_stack_func_80A9B384 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9B3BC {
    /* 0x00 */ char pad0[0x1C];
    /* 0x1C */ s32 sp1C;                            /* inferred */
    /* 0x20 */ s32 sp20;                            /* inferred */
    /* 0x24 */ s32 sp24;                            /* inferred */
    /* 0x28 */ s32 sp28;                            /* inferred */
    /* 0x2C */ char pad2C[0x4];
};                                                  /* size = 0x30 */

struct _mips2c_stack_func_80A9B46C {
    /* 0x00 */ char pad0[0x24];
    /* 0x24 */ s32 sp24;                            /* inferred */
    /* 0x28 */ s32 sp28;                            /* inferred */
    /* 0x2C */ s32 sp2C;                            /* inferred */
    /* 0x30 */ s32 sp30;                            /* inferred */
    /* 0x34 */ char pad34[0x4];
};                                                  /* size = 0x38 */

struct _mips2c_stack_func_80A9B554 {
    /* 0x00 */ char pad0[0xA0];
    /* 0xA0 */ f32 spA0;                            /* inferred */
    /* 0xA4 */ f32 spA4;                            /* inferred */
    /* 0xA8 */ f32 spA8;                            /* inferred */
    /* 0xAC */ f32 spAC;                            /* inferred */
    /* 0xB0 */ f32 spB0;                            /* inferred */
    /* 0xB4 */ f32 spB4;                            /* inferred */
    /* 0xB8 */ f32 spB8;                            /* inferred */
    /* 0xBC */ f32 spBC;                            /* inferred */
    /* 0xC0 */ f32 spC0;                            /* inferred */
    /* 0xC4 */ char padC4[0x20];                    /* maybe part of spC0[9]? */
    /* 0xE4 */ f32 spE4;                            /* inferred */
};                                                  /* size = 0xE8 */

struct _mips2c_stack_func_80A9BC0C {
    /* 0x00 */ char pad0[0x38];
};                                                  /* size = 0x38 */

struct _mips2c_stack_func_80A9BD24 {
    /* 0x00 */ char pad0[0x48];
};                                                  /* size = 0x48 */

struct _mips2c_stack_func_80A9C058 {
    /* 0x00 */ char pad0[0x3A];
    /* 0x3A */ s16 sp3A;                            /* inferred */
    /* 0x3C */ char pad3C[0x8];                     /* maybe part of sp3A[5]? */
    /* 0x44 */ f32 sp44;                            /* inferred */
    /* 0x48 */ f32 sp48;                            /* inferred */
    /* 0x4C */ f32 sp4C;                            /* inferred */
    /* 0x50 */ char pad50[0x8];
};                                                  /* size = 0x58 */

struct _mips2c_stack_func_80A9C18C {
    /* 0x00 */ char pad0[0x22];
    /* 0x22 */ s16 sp22;                            /* inferred */
    /* 0x24 */ Camera *sp24;                        /* inferred */
    /* 0x28 */ char pad28[0x8];
};                                                  /* size = 0x30 */

struct _mips2c_stack_func_80A9C228 {
    /* 0x00 */ char pad0[0x9C];
    /* 0x9C */ s32 sp9C;                            /* inferred */
    /* 0xA0 */ f32 spA0;                            /* inferred */
    /* 0xA4 */ f32 spA4;                            /* inferred */
    /* 0xA8 */ f32 spA8;                            /* inferred */
    /* 0xAC */ f32 spAC;                            /* inferred */
    /* 0xB0 */ f32 spB0;                            /* inferred */
    /* 0xB4 */ f32 spB4;                            /* inferred */
    /* 0xB8 */ f32 spB8;                            /* inferred */
    /* 0xBC */ f32 spBC;                            /* inferred */
    /* 0xC0 */ f32 spC0;                            /* inferred */
    /* 0xC4 */ void *spC4;                          /* inferred */
    /* 0xC8 */ void *spC8;                          /* inferred */
    /* 0xCC */ char padCC[0x4];
};                                                  /* size = 0xD0 */

struct _mips2c_stack_func_80A9C634 {
    /* 0x00 */ char pad0[0xA0];
    /* 0xA0 */ f32 spA0;                            /* inferred */
    /* 0xA4 */ f32 spA4;                            /* inferred */
    /* 0xA8 */ f32 spA8;                            /* inferred */
    /* 0xAC */ f32 spAC;                            /* inferred */
    /* 0xB0 */ f32 spB0;                            /* inferred */
    /* 0xB4 */ f32 spB4;                            /* inferred */
    /* 0xB8 */ f32 spB8;                            /* inferred */
    /* 0xBC */ f32 spBC;                            /* inferred */
    /* 0xC0 */ f32 spC0;                            /* inferred */
    /* 0xC4 */ char padC4[0x4];
};                                                  /* size = 0xC8 */

struct _mips2c_stack_func_80A9C854 {
    /* 0x00 */ char pad0[0x28];
    /* 0x28 */ s32 sp28;                            /* inferred */
    /* 0x2C */ char pad2C[0xC];                     /* maybe part of sp28[4]? */
    /* 0x38 */ s32 sp38;                            /* inferred */
    /* 0x3C */ char pad3C[0x4];
};                                                  /* size = 0x40 */

struct _mips2c_stack_func_80A9CA94 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9CAA8 {
    /* 0x00 */ char pad0[0x24];
    /* 0x24 */ PosRot *sp24;                        /* inferred */
    /* 0x28 */ char pad28[0x10];
};                                                  /* size = 0x38 */

struct _mips2c_stack_func_80A9CC84 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9CCA0 {
    /* 0x00 */ char pad0[0x20];
};                                                  /* size = 0x20 */

struct _mips2c_stack_func_80A9CD00 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9CD14 {
    /* 0x00 */ char pad0[0x20];
};                                                  /* size = 0x20 */

struct _mips2c_stack_func_80A9CE00 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9CE1C {
    /* 0x00 */ char pad0[0x2C];
    /* 0x2C */ void *sp2C;                          /* inferred */
    /* 0x30 */ char pad30[0x14];                    /* maybe part of sp2C[6]? */
    /* 0x44 */ s32 sp44;                            /* inferred */
    /* 0x48 */ char pad48[0x10];
};                                                  /* size = 0x58 */

struct _mips2c_stack_func_80A9D0A0 {};              /* size 0x0 */

struct _mips2c_stack_func_80A9D0B4 {
    /* 0x00 */ char pad0[0x24];
    /* 0x24 */ f32 sp24;                            /* inferred */
};                                                  /* size = 0x28 */

struct _mips2c_stack_func_80A9D1E0 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D260 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D2C4 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D360 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D3E4 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D434 {
    /* 0x00 */ char pad0[0x18];
};                                                  /* size = 0x18 */

struct _mips2c_stack_func_80A9D61C {
    /* 0x00 */ char pad0[0x68];
    /* 0x68 */ f32 sp68;                            /* inferred */
    /* 0x6C */ f32 sp6C;                            /* inferred */
    /* 0x70 */ f32 sp70;                            /* inferred */
    /* 0x74 */ char pad74[0xC];
};                                                  /* size = 0x80 */

void func_80A9ACD0(void *arg0);                     /* static */
void func_80A9ACF0();                               /* static */
void func_80A9AD18(Actor *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9AE3C(BgHakuginPost *arg0, GlobalContext *arg1); /* static */
void func_80A9AEB8(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9AFB4(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9B160(void *arg0, GlobalContext *arg1); /* static */
f32 func_80A9B244(void *arg0, void *);              /* static */
f32 func_80A9B2B8(void *arg0);                      /* static */
void *func_80A9B32C(void *arg0, void *arg1);        /* static */
void func_80A9B384(f32 *arg0);                      /* static */
void func_80A9B3BC(BgHakuginPost *arg0, GlobalContext *arg1); /* static */
void func_80A9B46C(BgHakuginPost *arg0, GlobalContext *arg1); /* static */
void func_80A9B554(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2, void *arg3); /* static */
void func_80A9BC0C(void *arg0);                     /* static */
void func_80A9BD24(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9C058(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9C18C(BgHakuginPost *arg0, GlobalContext *arg1, BgHakuginPost *, GlobalContext *); /* static */
void func_80A9C228(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2); /* static */
void func_80A9C634(void *arg0, GlobalContext *arg1, BgHakuginPost *, GlobalContext *); /* static */
void func_80A9C854(BgHakuginPost *arg0, GlobalContext *arg1); /* static */
extern CollisionHeader D_0600D3B0;
static ? D_80A9D880;                                /* unable to generate initializer */
static ? D_80A9D884;                                /* unable to generate initializer */
static ColliderCylinderInit D_80A9D8B8 = {
    {0xA, 0, 9, 0, 0, 1},
    {0, {0, 0, 0}, {0x100, 0, 0}, 0, 1, 0},
    {0x114, 0, 0x14, {0, 0, 0}},
};
static Color_RGBA8 D_80A9D8E4 = {0xFA, 0xFA, 0xFA, 0xFF};
static Color_RGBA8 D_80A9D8E8 = {0xB4, 0xB4, 0xB4, 0xFF};
static Vec3f D_80A9D8EC = {0.0f, 0.3f, 0.0f};
static InitChainEntry D_80A9D8F8;                   /* unable to generate initializer */
static s32 D_80A9D8FC = 1;
static ? D_80A9D900;                                /* unable to generate initializer */
static ? D_80A9D91C;                                /* unable to generate initializer */
static void D_80A9DDC0;
static void D_80A9E028;
static Vec3f D_80A9E030[55];
static s32 D_80A9E2C8[1272];
static ? D_80A9F6A8;
static u8 D_80A9F94C;

void func_80A9ACD0(void *arg0) {
    bzero(arg0, 0x1928);
}

void func_80A9ACF0(void) {
    bzero(&D_80A9DDC0, 0x264);
}

void func_80A9AD18(Actor *arg0, GlobalContext *arg1, void *arg2) {
    ColliderCylinder *temp_s0;
    f32 *temp_s1;
    s32 temp_s4;
    s32 temp_v0;
    s32 temp_v1;
    void *phi_s2;
    s32 phi_s4;
    s32 phi_v1;

    temp_v1 = arg2->unk2A0;
    phi_s2 = arg2;
    phi_s4 = 0;
    phi_v1 = temp_v1;
    if (temp_v1 > 0) {
        do {
            temp_s1 = &D_80A9D880 + (phi_s2->unk0 * 8);
            if (temp_s1->unk4 != 0) {
                temp_v0 = D_80A9DDC0.unk260;
                if (temp_v0 < 8) {
                    temp_s0 = &D_80A9DDC0 + (temp_v0 * 0x4C);
                    Collider_InitCylinder(arg1, temp_s0);
                    Collider_SetCylinder(arg1, temp_s0, arg0, &D_80A9D8B8);
                    temp_s0->dim.height = (s32) temp_s1->unk0 - 0x28;
                    phi_s2->unk4 = temp_s0;
                    D_80A9DDC0.unk260 = (s32) (D_80A9DDC0.unk260 + 1);
                    phi_v1 = arg2->unk2A0;
                }
            }
            temp_s4 = phi_s4 + 1;
            phi_s2 += 0x38;
            phi_s4 = temp_s4;
        } while (temp_s4 < phi_v1);
    }
}

void func_80A9AE3C(BgHakuginPost *arg0, GlobalContext *arg1) {
    s32 temp_t6;

    if (D_80A9DDC0.unk260 != 0) {
        do {
            temp_t6 = D_80A9DDC0.unk260 - 1;
            D_80A9DDC0.unk260 = temp_t6;
            Collider_DestroyCylinder(arg1, &D_80A9DDC0 + (temp_t6 * 0x4C));
        } while (D_80A9DDC0.unk260 != 0);
    }
}

void func_80A9AEB8(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2) {
    Collider *temp_a2;
    s32 temp_s1;
    s32 temp_v0;
    void *phi_s0;
    s32 phi_s1;
    s32 phi_v0;

    temp_v0 = arg2->unk2A0;
    phi_s0 = arg2;
    phi_s1 = 0;
    phi_v0 = temp_v0;
    if (temp_v0 > 0) {
        do {
            temp_a2 = phi_s0->unk4;
            if ((temp_a2 != 0) && (phi_s0->unk34 == 1)) {
                temp_a2->unk46 = (s16) (s32) (phi_s0->unk14 + arg0->dyna.actor.home.pos.x);
                temp_a2->unk48 = (s16) (s32) (phi_s0->unk18 + arg0->unk_16C);
                temp_a2->unk4A = (s16) (s32) (phi_s0->unk1C + arg0->dyna.actor.home.pos.z);
                CollisionCheck_SetAC(arg1, arg1 + 0x18884, temp_a2);
                phi_v0 = arg2->unk2A0;
            }
            temp_s1 = phi_s1 + 1;
            phi_s0 += 0x38;
            phi_s1 = temp_s1;
        } while (temp_s1 < phi_v0);
    }
}

void func_80A9AFB4(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2) {
    Vec3f *temp_s1_2;
    s32 temp_s2;
    s32 temp_v0;
    s8 temp_t3;
    void *temp_s0;
    void *temp_s0_2;
    void *temp_s1;
    void *phi_s0;
    s32 phi_s2;
    void *phi_s1;
    void *phi_s0_2;
    s32 phi_s2_2;
    s16 phi_v0;

    temp_v0 = arg2->unk2A0;
    if (temp_v0 < 0xC) {
        phi_s2 = 0;
        phi_s2_2 = 0;
        if (temp_v0 > 0) {
            phi_s0 = arg2;
loop_3:
            phi_s2_2 = phi_s2;
            if ((phi_s0->unk34 == 0) || (arg0->dyna.actor.world.pos.y < phi_s0->unkC)) {
                temp_s1 = arg2 + 0x230;
                phi_s1 = temp_s1;
                if (phi_s2 < 0xB) {
                    phi_s0_2 = temp_s1 + 0x38;
                    do {
                        bcopy(phi_s1, phi_s0_2, 0x38U);
                        temp_s0 = phi_s0_2 - 0x38;
                        phi_s1 += -0x38;
                        phi_s0_2 = temp_s0;
                    } while (temp_s0 != (((phi_s2 - 1) * 0x38) + arg2 + 0x38));
                }
            } else {
                temp_s2 = phi_s2 + 1;
                phi_s0 += 0x38;
                phi_s2 = temp_s2;
                phi_s2_2 = temp_s2;
                if (temp_s2 < temp_v0) {
                    goto loop_3;
                }
            }
        }
        temp_s0_2 = arg2 + (phi_s2_2 * 0x38);
        temp_s1_2 = arg0 + 0x24;
        temp_s0_2->unk0 = (s32) (arg0->dyna.actor.params & 7);
        Math_Vec3f_Copy(temp_s0_2 + 8, temp_s1_2);
        Math_Vec3f_Copy(temp_s0_2 + 0x14, temp_s1_2);
        temp_t3 = ((s32) arg0->dyna.actor.params >> 8) & 0x7F;
        temp_s0_2->unk2E = temp_t3;
        phi_v0 = -1;
        if (*(&D_80A9D884 + (temp_s0_2->unk0 * 8)) != 0) {
            if (Flags_GetSwitch(arg1, temp_t3 & 0xFF) != 0) {
                temp_s0_2->unk34 = 5;
            } else {
                temp_s0_2->unk34 = 1;
            }
            temp_s0_2->unk2A = (s16) arg0->dyna.actor.cutscene;
            phi_v0 = ActorCutscene_GetAdditionalCutscene(temp_s0_2->unk2A);
        } else {
            temp_s0_2->unk34 = 1;
            temp_s0_2->unk2A = -1;
        }
        temp_s0_2->unk2C = phi_v0;
        temp_s0_2->unk2F = 1;
        arg2->unk2A0 = (s32) (arg2->unk2A0 + 1);
    }
}

void func_80A9B160(void *arg0, GlobalContext *arg1) {
    s32 temp_s1;
    Vec3f *phi_s2;
    Vec3f *phi_s3;
    void *phi_s0;
    s32 phi_s1;

    phi_s2 = arg0 + 0x14;
    phi_s0 = arg0;
    phi_s1 = 0;
    if (arg0->unk2A0 > 0) {
        phi_s3 = arg0 + 8;
        do {
            Math_Vec3f_Copy(phi_s2, phi_s3);
            phi_s0->unk20 = 0.0f;
            phi_s0->unk24 = 0.0f;
            phi_s0->unk34 = 1;
            if ((&D_80A9D880 + (phi_s0->unk0 * 8))->unk4 != 0) {
                Actor_UnsetSwitchFlag(arg1, (s32) phi_s0->unk2E);
            }
            temp_s1 = phi_s1 + 1;
            phi_s2 += 0x38;
            phi_s3 += 0x38;
            phi_s0 += 0x38;
            phi_s1 = temp_s1;
        } while (temp_s1 < arg0->unk2A0);
    }
}

f32 func_80A9B244(void *arg0) {
    f32 temp_f2;
    s32 temp_t7;
    s32 temp_t7_2;
    s32 temp_v1;
    u32 temp_v0_2;
    void *temp_a1;
    void *temp_v0;
    void *phi_v0;
    f32 phi_f2;
    f32 phi_f2_2;
    s32 phi_t7;
    f32 phi_f2_3;
    s32 phi_t7_2;

    temp_v1 = arg0->unk2A0;
    phi_f2 = 0.0f;
    phi_f2_2 = 0.0f;
    phi_f2_3 = 0.0f;
    if (temp_v1 > 0) {
        temp_a1 = (temp_v1 * 0x38) + arg0;
        temp_v0 = arg0 + 0x38;
        temp_t7 = temp_v0->unk-38;
        phi_v0 = temp_v0;
        phi_t7 = temp_t7;
        phi_t7_2 = temp_t7;
        if ((u32) temp_v0 < (u32) temp_a1) {
            do {
                temp_v0_2 = phi_v0 + 0x38;
                temp_f2 = phi_f2_3 + *(&D_80A9D880 + (phi_t7_2 * 8));
                temp_t7_2 = temp_v0_2->unk-38;
                phi_v0 = (void *) temp_v0_2;
                phi_f2_2 = temp_f2;
                phi_t7 = temp_t7_2;
                phi_f2_3 = temp_f2;
                phi_t7_2 = temp_t7_2;
            } while (temp_v0_2 < (u32) temp_a1);
        }
        phi_f2 = phi_f2_2 + *(&D_80A9D880 + (phi_t7 * 8));
    }
    return phi_f2;
}

f32 func_80A9B2B8(void *arg0) {
    s32 temp_v0;
    s32 temp_v0_2;
    s32 temp_v1;
    s32 temp_v1_2;
    void *phi_a1;
    s32 phi_v1;

    temp_v0 = arg0->unk2A0 - 1;
    if (temp_v0 >= 0) {
        temp_v1 = temp_v0 * 0x38;
        phi_a1 = arg0 + temp_v1;
        phi_v1 = temp_v1;
loop_2:
        temp_v0_2 = phi_a1->unk34;
        temp_v1_2 = phi_v1 - 0x38;
        phi_v1 = temp_v1_2;
        if ((temp_v0_2 == 1) || (temp_v0_2 == 2)) {
            return *(&D_80A9D880 + (phi_a1->unk0 * 8)) + phi_a1->unk18;
        }
        phi_a1 += -0x38;
        if (temp_v1_2 < 0) {
            /* Duplicate return node #6. Try simplifying control flow for better match */
            return 0.0f;
        }
        goto loop_2;
    }
    return 0.0f;
}

void *func_80A9B32C(void *arg0, void *arg1) {
    s32 temp_v0;
    s32 temp_v1;
    s32 temp_v1_2;
    void *phi_a2;
    s32 phi_v1;
    s32 phi_v1_2;

    temp_v0 = arg0->unk2A0;
    phi_a2 = arg0;
    phi_v1 = 0;
    phi_v1_2 = 0;
    if (temp_v0 > 0) {
loop_1:
        phi_v1_2 = phi_v1;
        if (arg1 != phi_a2) {
            temp_v1_2 = phi_v1 + 1;
            phi_a2 += 0x38;
            phi_v1 = temp_v1_2;
            phi_v1_2 = temp_v1_2;
            if (temp_v1_2 < temp_v0) {
                goto loop_1;
            }
        }
    }
    temp_v1 = phi_v1_2 + 1;
    if (temp_v1 < temp_v0) {
        return arg0 + (temp_v1 * 0x38);
    }
    return NULL;
}

void func_80A9B384(f32 *arg0) {
    MtxF *temp_v0;

    temp_v0 = SysMatrix_GetCurrentState();
    temp_v0->mf[3][0] = arg0->unk0;
    temp_v0->mf[3][1] = arg0->unk4;
    temp_v0->mf[3][2] = arg0->unk8;
}

void func_80A9B3BC(BgHakuginPost *arg0, GlobalContext *arg1) {
    s32 sp28;
    s32 sp24;
    s32 sp20;
    s32 sp1C;
    s32 temp_a1;
    s32 phi_v1;
    s32 phi_v0;

    temp_a1 = ((s32) arg0->dyna.actor.params >> 8) & 0x7F;
    sp28 = temp_a1;
    sp24 = temp_a1 + 1;
    if (Flags_GetSwitch(arg1, temp_a1) != 0) {
        phi_v1 = 1;
    } else {
        phi_v1 = 0;
    }
    sp20 = phi_v1;
    if (Flags_GetSwitch(arg1, sp24) != 0) {
        phi_v0 = 1;
    } else {
        phi_v0 = 0;
    }
    if ((phi_v1 | phi_v0) == 0) {
        sp1C = phi_v0;
        Actor_SetSwitchFlag(arg1, sp28);
        arg0->unk_170 = 1;
    } else {
        arg0->unk_170 = phi_v1;
    }
    arg0->unk_174 = phi_v0;
}

void func_80A9B46C(BgHakuginPost *arg0, GlobalContext *arg1) {
    s32 sp30;
    s32 sp2C;
    s32 sp28;
    s32 sp24;
    s32 temp_a1;
    s32 phi_v1;
    s32 phi_v0;
    s32 phi_v1_2;
    s32 phi_v0_2;

    temp_a1 = ((s32) arg0->dyna.actor.params >> 8) & 0x7F;
    sp30 = temp_a1;
    sp2C = temp_a1 + 1;
    if (Flags_GetSwitch(arg1, temp_a1) != 0) {
        phi_v1 = 1;
    } else {
        phi_v1 = 0;
    }
    sp28 = phi_v1;
    phi_v1_2 = phi_v1;
    if (Flags_GetSwitch(arg1, sp2C) != 0) {
        phi_v0 = 1;
    } else {
        phi_v0 = 0;
    }
    phi_v0_2 = phi_v0;
    if ((arg0->unk_170 == 0) && (phi_v1 == 1)) {
        sp24 = phi_v0;
        sp28 = phi_v1;
        Actor_UnsetSwitchFlag(arg1, sp2C);
        goto block_12;
    }
    if ((arg0->unk_174 == 0) && (phi_v0 == 1)) {
        sp24 = phi_v0;
        sp28 = phi_v1;
        Actor_UnsetSwitchFlag(arg1, sp30);
block_12:
        phi_v1_2 = sp28;
        phi_v0_2 = phi_v0;
    }
    arg0->unk_170 = phi_v1_2;
    arg0->unk_174 = phi_v0_2;
}

void func_80A9B554(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2, void *arg3) {
    f32 spE4;
    f32 spC0;
    f32 spBC;
    f32 spB8;
    f32 spB4;
    f32 spB0;
    f32 spAC;
    f32 spA8;
    f32 spA4;
    f32 spA0;
    f32 *temp_s1_2;
    f32 temp_f0;
    f32 temp_f0_2;
    f32 temp_f20;
    f32 temp_f20_2;
    f32 temp_f20_3;
    f32 temp_f22;
    f32 temp_f24;
    f32 temp_f24_2;
    f32 temp_f26;
    f32 temp_f28;
    f32 temp_f28_2;
    f32 temp_f2;
    f32 temp_f6;
    s16 temp_s1_3;
    s16 temp_v1;
    s32 temp_s0;
    s32 temp_s1;
    s32 temp_s3;
    s32 temp_s3_2;
    void *temp_s5;
    void *temp_v0;
    void *phi_s0;
    s16 phi_s2;
    s32 phi_s1;
    s16 phi_s2_2;
    s32 phi_s3;
    void *phi_s0_2;
    s16 phi_s2_3;
    s32 phi_s3_2;

    spE4 = *(&D_80A9D880 + (arg3->unk0 * 8));
    spB8 = arg3->unk14 + arg0->dyna.actor.world.pos.x;
    spBC = arg3->unk18 + arg0->unk_16C;
    spC0 = arg3->unk1C + arg0->dyna.actor.world.pos.z;
    arg0 = arg0;
    spAC = Math_SinS(arg3->unk28) * arg3->unk20;
    spB0 = arg3->unk24;
    spB4 = Math_CosS(arg3->unk28) * arg3->unk20;
    phi_s0 = arg2 + 0x2A4;
    phi_s2 = 0;
    phi_s1 = 0;
    phi_s2_2 = 0;
    phi_s2_3 = 0;
    do {
        phi_s0->unk0 = (f32) ((Rand_ZeroOne() * 0.038f) + 0.002f);
        temp_f24 = Math_SinS(phi_s2);
        temp_f28 = Math_CosS(phi_s2);
        temp_f0 = Rand_ZeroOne();
        temp_f20 = (1.0f - (temp_f0 * temp_f0)) * 198.0f;
        phi_s0->unk4 = (f32) ((temp_f24 * temp_f20) + spB8);
        phi_s0->unk8 = (f32) ((Rand_ZeroOne() * spE4) + spBC);
        phi_s0->unkC = (f32) ((temp_f28 * temp_f20) + spC0);
        temp_f26 = phi_s0->unk0 - 0.002f;
        temp_f22 = (temp_f26 * -23.68421f) + 1.0f;
        temp_f20_2 = (temp_f26 * 0.5263158f) + 0.06f;
        phi_s0->unk10 = (f32) (((((Rand_ZeroOne() * 60.0f) - 30.0f) + (temp_f24 * 50.0f)) * temp_f22) + (spAC * temp_f20_2));
        phi_s0->unk14 = (f32) ((((Rand_ZeroOne() * 102.0f) + 18.0f) * temp_f22) + (spB0 * temp_f20_2));
        phi_s0->unk18 = (f32) (((((Rand_ZeroOne() * 60.0f) - 30.0f) + (temp_f28 * 50.0f)) * temp_f22) + (spB4 * temp_f20_2));
        phi_s0->unk1C = (f32) (0.90999997f - ((0.04f - phi_s0->unk0) * 26.31579f * 0.02f));
        phi_s0->unk20 = (s16) (Rand_Next() >> 0x10);
        phi_s0->unk22 = (s16) (Rand_Next() >> 0x10);
        phi_s0->unk24 = (s16) (Rand_Next() >> 0x10);
        phi_s0->unk26 = (s16) ((Rand_Next() & 0x3FFF) - 0x1FFF);
        phi_s0->unk28 = (s16) ((Rand_Next() & 0x1FFF) - 0xFFF);
        phi_s0->unk2A = (s16) ((Rand_Next() & 0x1FFF) - 0xFFF);
        temp_s1 = phi_s1 + 0x30;
        phi_s0->unk2C = (s8) ((Rand_Next() & 0x1F) + 0x4B);
        phi_s0->unk2D = 2;
        phi_s0 += 0x30;
        phi_s2 = (s16) (phi_s2 + 0x3F0);
        phi_s1 = temp_s1;
    } while (temp_s1 < 0xC30);
    temp_s1_2 = &spA0;
    phi_s3 = 0;
    do {
        temp_f20_3 = (Rand_ZeroOne() * 60.0f) + 220.0f;
        spA0 = (Math_SinS(phi_s2_2) * temp_f20_3) + spB8;
        spA4 = (((Rand_ZeroOne() * 1.2f) - 0.1f) * spE4) + spBC;
        spA8 = (Math_CosS(phi_s2_2) * temp_f20_3) + spC0;
        temp_s0 = Rand_Next();
        func_800B0E48(arg1, (Vec3f *) temp_s1_2, &D_801D15B0, &D_80A9D8EC, &D_80A9D8E4, &D_80A9D8E8, (s16) ((temp_s0 >> 0x1A) + 0x82), (s16) ((Rand_Next() >> 0x1A) + 0x6E));
        temp_s3 = phi_s3 + 1;
        phi_s2_2 = (s16) (phi_s2_2 + 0xBA2);
        phi_s3 = temp_s3;
    } while (temp_s3 < 0x16);
    temp_v0 = func_80A9B32C(arg2, arg3);
    temp_s5 = temp_v0;
    if (temp_v0 != 0) {
        temp_f2 = arg0->unk_16C;
        temp_f6 = func_80A9B2B8(arg2) + temp_f2;
        spB8 = temp_s5->unk14 + arg0->dyna.actor.world.pos.x;
        spBC = temp_s5->unk18 + temp_f2;
        spC0 = temp_s5->unk1C + arg0->dyna.actor.world.pos.z;
        phi_s0_2 = arg2 + 0xED4;
        phi_s3_2 = 0x41;
        do {
            phi_s0_2->unk0 = (f32) ((Rand_ZeroOne() * 0.007f) + 0.002f);
            temp_v1 = (Rand_Next() & 0x7FF) + phi_s2_3;
            temp_s1_3 = temp_v1;
            temp_f24_2 = Math_SinS(temp_v1);
            temp_f28_2 = Math_CosS(temp_s1_3);
            phi_s0_2->unk4 = (f32) ((temp_f24_2 * 225.5f) + spB8);
            if ((phi_s3_2 & 1) != 0) {
                phi_s0_2->unk8 = (f32) ((*(&D_80A9D880 + (temp_s5->unk0 * 8)) * Rand_ZeroOne()) + spBC);
            } else {
                phi_s0_2->unk8 = (f32) ((temp_f6 - 40.0f) - (Rand_ZeroOne() * 350.0f));
            }
            phi_s0_2->unkC = (f32) ((temp_f28_2 * 225.5f) + spC0);
            temp_f0_2 = Rand_ZeroOne();
            phi_s0_2->unk14 = 0.0f;
            phi_s0_2->unk10 = (f32) (temp_f0_2 + (temp_f24_2 * 7.0f));
            phi_s0_2->unk18 = (f32) (Rand_ZeroOne() + (temp_f28_2 * 7.0f));
            phi_s0_2->unk1C = (f32) (0.90999997f - ((0.04f - phi_s0_2->unk0) * 26.31579f * 0.075f));
            phi_s0_2->unk20 = (s16) (Rand_Next() >> 0x10);
            phi_s0_2->unk22 = (s16) (Rand_Next() >> 0x10);
            phi_s0_2->unk24 = (s16) (Rand_Next() >> 0x10);
            phi_s0_2->unk26 = (s16) ((Rand_Next() & 0x1FFF) - 0xFFF);
            phi_s0_2->unk28 = (s16) ((Rand_Next() & 0x1FFF) - 0xFFF);
            phi_s0_2->unk2A = (s16) ((Rand_Next() & 0x1FFF) - 0xFFF);
            temp_s3_2 = phi_s3_2 + 1;
            phi_s0_2->unk2C = (s8) ((Rand_Next() & 0x1F) + 0x41);
            phi_s0_2->unk2D = 0;
            phi_s0_2 += 0x30;
            phi_s2_3 = (s16) (phi_s2_3 + 0x4A7);
            phi_s3_2 = temp_s3_2;
        } while (temp_s3_2 != 0x78);
    }
    arg2->unk1924 = 1;
}

void func_80A9BC0C(void *arg0) {
    s32 temp_s2;
    void *temp_s0;
    void *phi_s1;
    s32 phi_s2;

    phi_s1 = arg0;
    phi_s2 = 0;
    if (arg0->unk1924 != 0) {
        arg0->unk1924 = 0U;
        do {
            temp_s0 = phi_s1 + 0x2A4;
            if ((s32) phi_s1->unk2D0 > 0) {
                temp_s0->unk14 = (f32) (temp_s0->unk14 + -4.0f);
                Math_Vec3f_Scale(temp_s0 + 0x10, temp_s0->unk1C);
                temp_s0->unk4 = (f32) (temp_s0->unk4 + temp_s0->unk10);
                temp_s0->unk8 = (f32) (temp_s0->unk8 + temp_s0->unk14);
                temp_s0->unkC = (f32) (temp_s0->unkC + temp_s0->unk18);
                temp_s0->unk20 = (s16) (temp_s0->unk20 + temp_s0->unk26);
                temp_s0->unk22 = (s16) (temp_s0->unk22 + temp_s0->unk28);
                temp_s0->unk24 = (s16) (temp_s0->unk24 + temp_s0->unk2A);
                temp_s0->unk2C = (s8) (temp_s0->unk2C - 1);
                arg0->unk1924 = 1U;
            }
            temp_s2 = phi_s2 + 0x30;
            phi_s1 += 0x30;
            phi_s2 = temp_s2;
        } while (temp_s2 != 0x1680);
    }
}

void func_80A9BD24(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2) {
    f32 temp_f0;
    f32 temp_f6;
    s32 temp_a0;
    s32 temp_s4;
    s32 temp_v0;
    s32 temp_v0_2;
    s32 temp_v0_3;
    s32 temp_v0_4;
    s32 temp_v1;
    u8 temp_v0_5;
    u8 temp_v0_7;
    void *temp_v0_6;
    void *phi_s0;
    s32 phi_s4;
    void *phi_v0;
    s32 phi_a0;
    s32 phi_a0_2;

    phi_s0 = arg2;
    phi_s4 = 0;
    if (arg2->unk2A0 > 0) {
        do {
            temp_v0 = phi_s0->unk34;
            if ((temp_v0 == 5) || (temp_v0 == 4)) {
                phi_s0->unk24 = 0.0f;
            } else {
                phi_s0->unk24 = (f32) (phi_s0->unk24 - 2.8f);
                phi_s0->unk24 = (f32) (phi_s0->unk24 * 0.9f);
            }
            temp_v0_2 = phi_s0->unk34;
            if ((temp_v0_2 == 2) || (temp_v0_2 == 3)) {
                phi_s0->unk20 = 25.0f;
            } else {
                phi_s0->unk20 = 0.0f;
            }
            phi_s0->unk14 = (f32) (phi_s0->unk14 + (Math_SinS(phi_s0->unk28) * phi_s0->unk20));
            temp_v0_3 = phi_s0->unk34;
            temp_f6 = phi_s0->unk1C + (Math_CosS(phi_s0->unk28) * phi_s0->unk20);
            phi_s0->unk18 = (f32) (phi_s0->unk18 + phi_s0->unk24);
            phi_s0->unk1C = temp_f6;
            if ((temp_v0_3 == 1) || (temp_v0_3 == 2)) {
                temp_v0_4 = phi_s4 - 1;
                phi_a0 = temp_v0_4;
                phi_a0_2 = temp_v0_4;
                if (temp_v0_4 >= 0) {
                    phi_v0 = arg2 + (temp_v0_4 * 0x38);
loop_14:
                    temp_v1 = phi_v0->unk34;
                    phi_a0_2 = phi_a0;
                    if ((temp_v1 != 1) && (temp_v1 != 2)) {
                        temp_a0 = phi_a0 - 1;
                        phi_v0 += -0x38;
                        phi_a0 = temp_a0;
                        phi_a0_2 = temp_a0;
                        if (temp_a0 >= 0) {
                            goto loop_14;
                        }
                    }
                }
                if (phi_a0_2 < 0) {
                    if (phi_s0->unk18 < 0.0f) {
                        temp_v0_5 = phi_s0->unk2F;
                        phi_s0->unk18 = 0.0f;
                        phi_s0->unk24 = 0.0f;
                        if ((temp_v0_5 & 1) != 0) {
                            phi_s0->unk2F = (u8) (temp_v0_5 & ~2);
                        } else {
                            phi_s0->unk2F = (u8) (temp_v0_5 | 3);
                        }
                    } else {
                        phi_s0->unk2F = (u8) (phi_s0->unk2F & 0xFFFC);
                    }
                } else {
                    temp_v0_6 = arg2 + (phi_a0_2 * 0x38);
                    temp_f0 = *(&D_80A9D880 + (temp_v0_6->unk0 * 8)) + temp_v0_6->unk18;
                    if (phi_s0->unk18 < temp_f0) {
                        temp_v0_7 = phi_s0->unk2F;
                        phi_s0->unk18 = temp_f0;
                        phi_s0->unk24 = 0.0f;
                        if ((temp_v0_7 & 1) != 0) {
                            phi_s0->unk2F = (u8) (temp_v0_7 & ~2);
                        } else {
                            phi_s0->unk2F = (u8) (temp_v0_7 | 3);
                        }
                    } else {
                        phi_s0->unk2F = (u8) (phi_s0->unk2F & 0xFFFC);
                    }
                }
            }
            if (phi_s0->unk34 == 2) {
                if (Math3D_XZLengthSquared(phi_s0->unk14, phi_s0->unk1C) > 193600.02f) {
                    phi_s0->unk34 = 3;
                }
            } else if (phi_s0->unk34 == 3) {
                if (Math3D_XZLengthSquared(phi_s0->unk14, phi_s0->unk1C) > 278784.03f) {
                    func_80A9B554(arg0, arg1, arg2, phi_s0);
                    func_8019F128(0x28FAU);
                    phi_s0->unk34 = 4;
                    phi_s0->unk30 = 0x1E;
                }
            } else if (phi_s0->unk34 == 4) {
                phi_s0->unk30 = (s8) (phi_s0->unk30 - 1);
                if ((s32) phi_s0->unk30 <= 0) {
                    phi_s0->unk34 = 5;
                }
            }
            temp_s4 = phi_s4 + 1;
            phi_s0 += 0x38;
            phi_s4 = temp_s4;
        } while (temp_s4 < arg2->unk2A0);
    }
}

void func_80A9C058(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2) {
    f32 sp4C;
    f32 sp48;
    f32 sp44;
    s16 sp3A;
    f32 *temp_a0_2;
    s16 temp_v0;
    s32 temp_a0;
    s32 temp_a0_3;
    s32 temp_v1;
    void *phi_v0;
    s32 phi_v1;

    if ((arg0->unk_170 == 0) && (temp_a0 = arg2->unk2A0, phi_v0 = arg2, phi_v1 = 0, (temp_a0 > 0))) {
loop_2:
        temp_v1 = phi_v1 + 1;
        phi_v1 = temp_v1;
        if ((phi_v0->unk2F & 2) != 0) {
            temp_a0_2 = &sp44;
            sp44 = arg0->dyna.actor.home.pos.x + phi_v0->unk14;
            sp48 = arg0->unk_16C + phi_v0->unk18;
            sp4C = arg0->dyna.actor.home.pos.z + phi_v0->unk1C;
            func_8013ECE0(Math3D_DistanceSquared((Vec3f *) temp_a0_2, arg1->actorCtx.actorList[2].first + 0x24), 0xFFU, 0x14U, 0x96U);
            temp_v0 = Quake_Add((arg1 + (arg1->activeCamera * 4))->unk800, 3U);
            temp_a0_3 = temp_v0 << 0x10;
            sp3A = temp_v0;
            Quake_SetSpeed((s16) (temp_a0_3 >> 0x10), 0x4E20);
            Quake_SetQuakeValues(sp3A, 7, 0, 0, (s16) 0);
            Quake_SetCountdown(sp3A, 0xC);
            if ((s32) arg0->unk_179 <= 0) {
                func_8019F128(0x2893U);
                arg0->unk_179 = 0x28;
                return;
            }
            /* Duplicate return node #6. Try simplifying control flow for better match */
            return;
        }
        phi_v0 += 0x38;
        if (temp_v1 >= temp_a0) {
            /* Duplicate return node #6. Try simplifying control flow for better match */
            return;
        }
        goto loop_2;
    }
}

void func_80A9C18C(BgHakuginPost *arg0, GlobalContext *arg1) {
    Camera *sp24;
    s16 sp22;
    s16 temp_v0_2;
    s32 temp_a0;
    void *temp_v0;

    temp_v0 = arg1->actorCtx.actorList[2].first;
    sp24 = (arg1 + (arg1->activeCamera * 4))->unk800;
    func_8013ECE0(Math3D_XZDistanceSquared(temp_v0->world.pos.x, temp_v0->world.pos.z, arg0->dyna.actor.home.pos.x, arg0->dyna.actor.home.pos.z), 0xFFU, 0x14U, 0x96U);
    temp_v0_2 = Quake_Add(sp24, 3U);
    temp_a0 = temp_v0_2 << 0x10;
    sp22 = temp_v0_2;
    Quake_SetSpeed((s16) (temp_a0 >> 0x10), 0x4350);
    Quake_SetQuakeValues(sp22, 6, 0, 0, (s16) 0);
    Quake_SetCountdown(sp22, 0x14);
}

void func_80A9C228(BgHakuginPost *arg0, GlobalContext *arg1, void *arg2) {
    void *spC8;
    void *spC4;
    f32 spC0;
    f32 spBC;
    f32 spB8;
    f32 spB4;
    f32 spB0;
    f32 spAC;
    f32 spA8;
    f32 spA4;
    f32 spA0;
    s32 sp9C;
    f32 *temp_fp;
    f32 *temp_s6;
    f32 *temp_s7;
    f32 temp_f14;
    f32 temp_f18;
    f32 temp_f20;
    f32 temp_f20_2;
    f32 temp_f2;
    f32 temp_f4;
    f32 temp_f6;
    f32 temp_f8;
    s16 temp_s0;
    s16 temp_s0_2;
    s16 temp_v1;
    s16 temp_v1_2;
    s32 temp_s1;
    s32 temp_s1_2;
    s32 temp_t8_2;
    s32 temp_v0;
    void *temp_t8;
    void *phi_s3;
    s32 phi_s2;
    s32 phi_s1;
    s32 phi_s2_2;
    s32 phi_s1_2;

    spC8 = NULL;
    sp9C = 0;
    temp_fp = &spA0;
    phi_s3 = arg2;
    if (arg2->unk2A0 > 0) {
        temp_s7 = &spAC;
        temp_s6 = &spB8;
        do {
            temp_t8 = spC8;
            spC8 = phi_s3;
            spC4 = temp_t8;
            phi_s2 = 0;
            phi_s1 = 0;
            phi_s2_2 = 0;
            phi_s1_2 = 0;
            if (phi_s3->unk34 == 2) {
                do {
                    temp_f20 = Rand_ZeroOne() * 264.0f;
                    temp_v1 = (Rand_Next() & 0xFFF) + phi_s2;
                    temp_s0 = temp_v1;
                    spB8 = (Math_SinS(temp_v1) * temp_f20) + phi_s3->unk14;
                    temp_f14 = (Math_CosS(temp_s0) * temp_f20) + phi_s3->unk1C;
                    spC0 = temp_f14;
                    if (Math3D_XZLengthSquared(spB8, temp_f14) < 302500.03f) {
                        spB8 += arg0->dyna.actor.home.pos.x;
                        spBC = phi_s3->unk18 + arg0->unk_16C + 20.0f;
                        spC0 += arg0->dyna.actor.home.pos.z;
                        temp_f6 = Math_SinS(phi_s3->unk28) * 3.0f;
                        spB0 = 0.0f;
                        spAC = temp_f6;
                        temp_f2 = Math_CosS(phi_s3->unk28) * 3.0f;
                        spA4 = 0.2f;
                        spB4 = temp_f2;
                        spA0 = spAC * -0.08f;
                        spA8 = temp_f2 * -0.08f;
                        func_800B0E48(arg1, (Vec3f *) temp_s6, (Vec3f *) temp_s7, (Vec3f *) temp_fp, &D_80A9D8E4, &D_80A9D8E8, (s16) 0x50, (s16) ((s32) (Rand_ZeroOne() * 60.0f) + 0x6E));
                    }
                    temp_s1 = phi_s1 + 1;
                    phi_s2 += 0x5555;
                    phi_s1 = temp_s1;
                } while (temp_s1 != 3);
            }
            if (((phi_s3->unk2F & 2) != 0) && (spC4 != 0) && ((temp_v0 = spC4->unk34, (temp_v0 == 3)) || (temp_v0 == 4))) {
                do {
                    temp_f20_2 = ((Rand_ZeroOne() * 0.3f) + 1.0f) * 220.0f;
                    temp_v1_2 = (Rand_Next() & 0xFFF) + phi_s2_2;
                    temp_s0_2 = temp_v1_2;
                    spB8 = Math_SinS(temp_v1_2) * temp_f20_2;
                    temp_f8 = Math_CosS(temp_s0_2) * temp_f20_2;
                    spB0 = 0.0f;
                    spC0 = temp_f8;
                    temp_f4 = spC0 * 0.014545455f;
                    spAC = spB8 * 0.014545455f;
                    spB4 = temp_f4;
                    spB8 += phi_s3->unk14 + arg0->dyna.actor.home.pos.x;
                    spBC = phi_s3->unk18 + arg0->unk_16C;
                    spA4 = 0.2f;
                    temp_f18 = temp_f4 * -0.08f;
                    spA0 = spAC * -0.08f;
                    spC0 += phi_s3->unk1C + arg0->dyna.actor.home.pos.z;
                    spA8 = temp_f18;
                    func_800B0E48(arg1, (Vec3f *) temp_s6, (Vec3f *) temp_s7, (Vec3f *) temp_fp, &D_80A9D8E4, &D_80A9D8E8, (s16) 0xC8, (s16) ((s32) (Rand_ZeroOne() * 70.0f) + 0x64));
                    temp_s1_2 = phi_s1_2 + 1;
                    phi_s2_2 += 0xE38;
                    phi_s1_2 = temp_s1_2;
                } while (temp_s1_2 != 0x12);
            }
            temp_t8_2 = sp9C + 1;
            sp9C = temp_t8_2;
            phi_s3 += 0x38;
        } while (temp_t8_2 < arg2->unk2A0);
    }
}

void func_80A9C634(void *arg0, GlobalContext *arg1) {
    f32 spC0;
    f32 spBC;
    f32 spB8;
    f32 spB4;
    f32 spB0;
    f32 spAC;
    f32 spA8;
    f32 spA4;
    f32 spA0;
    f32 *temp_fp;
    f32 *temp_s6;
    f32 *temp_s7;
    f32 temp_f0;
    f32 temp_f20;
    s16 temp_s4;
    s32 temp_s1;
    s32 phi_s3;
    s32 phi_s1;

    temp_fp = &spA0;
    temp_s7 = &spAC;
    temp_s6 = &spB8;
    phi_s3 = 0;
    phi_s1 = 0;
    do {
        temp_s4 = (s32) (Rand_ZeroOne() * 6553.0f) + phi_s3;
        temp_f20 = ((Rand_ZeroOne() * 0.3f) + 1.0f) * 220.0f;
        spB8 = Math_SinS(temp_s4);
        spBC = (f32) phi_s1 * -8.571428f;
        temp_f0 = Math_CosS(temp_s4);
        spC0 = temp_f0;
        spB0 = 0.0f;
        spAC = spB8 * 19.0f;
        spB4 = temp_f0 * 19.0f;
        spB8 = (spB8 * temp_f20) + arg0->unk8;
        spBC += arg0->unk164 + arg0->unk160;
        spA4 = 0.8f;
        spC0 = (temp_f0 * temp_f20) + arg0->unk10;
        spA0 = spAC * -0.08f;
        spA8 = spB4 * -0.08f;
        func_800B0DE0(arg1, (Vec3f *) temp_s6, (Vec3f *) temp_s7, (Vec3f *) temp_fp, &D_80A9D8E4, &D_80A9D8E8, (s16) ((s32) (Rand_ZeroOne() * 400.0f) + 0x9C4), (s16) -0xFA);
        temp_s1 = phi_s1 + 1;
        phi_s3 += 0x1999;
        phi_s1 = temp_s1;
    } while (temp_s1 != 0x46);
}

void func_80A9C854(BgHakuginPost *arg0, GlobalContext *arg1) {
    s32 sp38;
    s32 sp28;
    BgHakuginPost *temp_a2;
    s32 temp_s1;
    void *phi_s0;
    s32 phi_s1;

    temp_a2 = arg0;
    sp38 = 0;
    arg0 = temp_a2;
    if (temp_a2->unk_174 != 0) {
        arg0 = temp_a2;
        if (Flags_GetSwitch(arg1, temp_a2->dyna.actor.home.rot.z & 0x7F) != 0) {
            sp28 = 1;
            phi_s1 = 0;
            if (D_80A9E028.unk2A0 > 0) {
                phi_s0 = &D_80A9E028;
loop_4:
                if ((phi_s0->unk4 != 0) && (Flags_GetSwitch(arg1, (s32) phi_s0->unk2E) != 0)) {
                    sp28 = 0;
                } else {
                    temp_s1 = phi_s1 + 1;
                    phi_s0 += 0x38;
                    phi_s1 = temp_s1;
                    if (temp_s1 < D_80A9E028.unk2A0) {
                        goto loop_4;
                    }
                }
            }
            if (sp28 != 0) {
                sp38 = 1;
            }
        }
    }
    if (sp38 != 0) {
        Actor_SetSwitchFlag(arg1, arg0->dyna.actor.home.rot.x & 0x7F);
        return;
    }
    Actor_UnsetSwitchFlag(arg1, arg0->dyna.actor.home.rot.x & 0x7F);
}

void BgHakuginPost_Init(BgHakuginPost *this, GlobalContext *globalCtx) {
    BgHakuginPost *this = (BgHakuginPost *) thisx;
    if (D_80A9D8FC != 0) {
        D_80A9D8FC = 0;
        func_80A9ACD0(&D_80A9E028);
        func_80A9ACF0();
    }
    if ((this->dyna.actor.params & 7) == 7) {
        Actor_ProcessInitChain((Actor *) this, &D_80A9D8F8);
        this->dyna.actor.world.rot.x = 0;
        this->dyna.actor.world.rot.z = 0;
        this->dyna.actor.shape.rot.x = 0;
        this->dyna.actor.shape.rot.z = 0;
        BcCheck3_BgActorInit((DynaPolyActor *) this, 1);
        BgCheck3_LoadMesh(globalCtx, (DynaPolyActor *) this, &D_0600D3B0);
        func_80A9B3BC(this, globalCtx);
        func_80A9CA94(this);
        return;
    }
    func_80A9AFB4(this, globalCtx, &D_80A9E028);
    Actor_MarkForDeath((Actor *) this);
}

void BgHakuginPost_Destroy(BgHakuginPost *this, GlobalContext *globalCtx) {
    s32 temp_a2;
    BgHakuginPost *this = (BgHakuginPost *) thisx;

    if ((this->dyna.actor.params & 7) == 7) {
        temp_a2 = this->dyna.bgId;
        this = this;
        BgCheck_RemoveActorMesh(globalCtx, &globalCtx->colCtx.dyna, temp_a2);
        func_80A9AE3C(this, globalCtx);
    }
}

void func_80A9CA94(BgHakuginPost *this) {
    this->actionFunc = func_80A9CAA8;
}

void func_80A9CAA8(BgHakuginPost *this, GlobalContext *globalCtx) {
    PosRot *sp24;
    PosRot *temp_a3;
    s32 temp_v1;
    s32 temp_v1_2;
    void *temp_v0;
    void *phi_v0;
    s32 phi_v1;
    void *phi_v0_2;
    f32 phi_f0;
    s32 phi_v1_2;

    this->unk_160 = func_80A9B244(&D_80A9E028, &D_80A9E028);
    temp_a3 = &this->dyna.actor.home;
    sp24 = temp_a3;
    Math_Vec3f_Copy((Vec3f *) temp_a3, D_80A9E030);
    Math_Vec3f_Copy((Vec3f *) &this->dyna.actor.world, (Vec3f *) sp24);
    this->unk_168 = this->dyna.actor.home.pos.y;
    this->unk_164 = this->unk_168 - 1800.0f;
    if (this->unk_170 != 0) {
        phi_v0 = &D_80A9E028;
        phi_v1 = 0;
        if (D_80A9E028.unk2A0 > 0) {
            do {
                temp_v1 = phi_v1 + 1;
                temp_v0 = phi_v0 + 0x38;
                temp_v0->unk-30 = (f32) (phi_v0->unk8 - this->dyna.actor.home.pos.x);
                temp_v0->unk-2C = (f32) (phi_v0->unkC - this->dyna.actor.home.pos.y);
                temp_v0->unk-24 = (f32) temp_v0->unk-30;
                temp_v0->unk-20 = (f32) temp_v0->unk-2C;
                temp_v0->unk-28 = (f32) (phi_v0->unk10 - this->dyna.actor.home.pos.z);
                temp_v0->unk-1C = (f32) temp_v0->unk-28;
                phi_v0 = temp_v0;
                phi_v1 = temp_v1;
            } while (temp_v1 < D_80A9E028.unk2A0);
        }
    } else {
        phi_f0 = 0.0f;
        phi_v1_2 = 0;
        if (D_80A9E028.unk2A0 > 0) {
            phi_v0_2 = &D_80A9E028;
            do {
                phi_v0_2->unk8 = (f32) (phi_v0_2->unk8 - this->dyna.actor.home.pos.x);
                phi_v0_2->unkC = (f32) (phi_v0_2->unkC - this->dyna.actor.home.pos.y);
                phi_v0_2->unk18 = phi_f0;
                phi_v0_2->unk14 = (f32) phi_v0_2->unk8;
                phi_v0_2->unk10 = (f32) (phi_v0_2->unk10 - this->dyna.actor.home.pos.z);
                phi_v0_2->unk1C = (f32) phi_v0_2->unk10;
                if (phi_v0_2->unk34 == 1) {
                    phi_f0 += *(&D_80A9D880 + (phi_v0_2->unk0 * 8));
                }
                temp_v1_2 = phi_v1_2 + 1;
                phi_v0_2 += 0x38;
                phi_v1_2 = temp_v1_2;
            } while (temp_v1_2 < D_80A9E028.unk2A0);
        }
    }
    func_80A9AD18((Actor *) this, globalCtx, &D_80A9E028);
    this->dyna.actor.draw = func_80A9D61C;
    if (this->unk_170 != 0) {
        func_80A9CC84(this);
        return;
    }
    func_80A9CE00(this);
}

void func_80A9CC84(BgHakuginPost *this) {
    this->actionFunc = func_80A9CCA0;
    this->unk_16C = this->unk_164;
}

void func_80A9CCA0(BgHakuginPost *this, GlobalContext *globalCtx) {
    if (this->unk_174 != 0) {
        func_80A9D1E0(this, func_80A9CD00, (this->unk_164 - this->dyna.actor.home.pos.y) + 100.0f, 0x3C, (s16) (s32) this->dyna.actor.cutscene);
    }
}

void func_80A9CD00(BgHakuginPost *this) {
    this->actionFunc = func_80A9CD14;
}

void func_80A9CD14(BgHakuginPost *this, GlobalContext *globalCtx) {
    f32 temp_f0;
    f32 temp_f12;
    f32 phi_f12;

    temp_f0 = this->unk_164;
    temp_f12 = (Math_SinS((s16) (s32) (((this->unk_16C - temp_f0) * 32768.0f) / (this->unk_168 - temp_f0))) * 140.0f) + 4.0f;
    phi_f12 = temp_f12;
    if (temp_f12 > 40.0f) {
        phi_f12 = 40.0f;
    }
    this->unk_16C += phi_f12;
    if (this->unk_168 <= this->unk_16C) {
        func_80A9C18C((bitwise BgHakuginPost *) phi_f12, (bitwise GlobalContext *) 40.0f, this, globalCtx);
        func_8019F128(0x2893U);
        func_80A9CE00(this);
        return;
    }
    func_800B8FE8((Actor *) this, 0x210DU);
}

void func_80A9CE00(BgHakuginPost *this) {
    this->actionFunc = func_80A9CE1C;
    this->unk_16C = this->unk_168;
}

void func_80A9CE1C(BgHakuginPost *this, GlobalContext *globalCtx) {
    s32 sp44;
    void *sp2C;
    Actor *temp_a2;
    f32 temp_f0;
    f32 temp_f2;
    s16 temp_v0_2;
    s16 temp_v0_3;
    s32 temp_a1;
    s32 temp_t0;
    s32 temp_t0_2;
    void *temp_v0;
    void *temp_v0_4;
    void *phi_v1;
    s32 phi_a0;
    s32 phi_t0;
    s32 phi_a1;
    void *phi_v1_2;
    s32 phi_t0_2;
    s32 phi_a1_2;

    temp_a2 = globalCtx->actorCtx.actorList[2].first;
    if (this->unk_170 != 0) {
        func_80A9D1E0(this, func_80A9D0A0, (this->unk_164 - this->dyna.actor.home.pos.y) + 100.0f, 0x3C, (s16) ActorCutscene_GetAdditionalCutscene((s16) this->dyna.actor.cutscene));
        return;
    }
    temp_a1 = *D_80A9E2C8;
    phi_v1 = &D_80A9E028;
    phi_t0 = 0;
    phi_a1 = temp_a1;
    phi_t0_2 = 0;
    if (temp_a1 > 0) {
loop_4:
        temp_v0 = phi_v1->unk4;
        temp_t0 = phi_t0 + 1;
        phi_t0 = temp_t0;
        if ((temp_v0 != 0) && ((temp_v0->unk11 & 2) != 0) && (phi_v1->unk34 == 1)) {
            temp_v0_2 = this->dyna.actor.yawTowardsPlayer - temp_a2->shape.rot.y;
            phi_a0 = (s32) temp_v0_2;
            if ((s32) temp_v0_2 < 0) {
                phi_a0 = -(s32) temp_v0_2;
            }
            temp_f0 = phi_v1->unk18 + this->unk_16C;
            if ((phi_a0 >= 0x5001) && (temp_f2 = temp_a2->world.pos.y, ((temp_f0 - 60.0f) < temp_f2)) && (temp_f2 < ((*(&D_80A9D880 + (phi_v1->unk0 * 8)) + temp_f0) - 70.0f))) {
                phi_v1->unk20 = 20.0f;
                phi_v1->unk34 = 2;
                temp_v0_3 = this->dyna.actor.yawTowardsPlayer + 0x58F0;
                phi_v1->unk28 = (s16) (((s32) (s16) (temp_a2->shape.rot.y - temp_v0_3) / 3) + temp_v0_3);
                sp2C = phi_v1;
                func_800B8E58(temp_a2, 0x180AU);
                func_8019F128(0x2814U);
                Actor_SetSwitchFlag(globalCtx, (s32) phi_v1->unk2E);
                this->unk_178 = 0x14;
                sp44 = 0;
                func_80A9D2C4(this, func_80A9CE00, phi_v1->unk18 + 50.0f, phi_v1->unk2A, (s16) (s32) phi_v1->unk2C);
                phi_a1 = *D_80A9E2C8;
                phi_t0_2 = sp44;
            } else {
                goto block_13;
            }
        } else {
block_13:
            phi_v1 += 0x38;
            if (temp_t0 >= temp_a1) {

            } else {
                goto loop_4;
            }
        }
    }
    phi_a1_2 = phi_a1;
    if (phi_a1 > 0) {
        phi_v1_2 = &D_80A9E028;
        do {
            temp_v0_4 = phi_v1_2->unk4;
            temp_t0_2 = phi_t0_2 + 1;
            phi_t0_2 = temp_t0_2;
            if (temp_v0_4 != 0) {
                temp_v0_4->unk11 = (u8) (temp_v0_4->unk11 & ~2);
                phi_a1_2 = *D_80A9E2C8;
            }
            phi_v1_2 += 0x38;
        } while (temp_t0_2 < phi_a1_2);
    }
    if ((s32) this->unk_178 <= 0) {
        func_80A9AEB8(this, globalCtx, &D_80A9E028);
    }
}

void func_80A9D0A0(BgHakuginPost *this) {
    this->actionFunc = func_80A9D0B4;
}

void func_80A9D0B4(BgHakuginPost *this, GlobalContext *globalCtx) {
    f32 sp24;
    f32 temp_f12;
    f32 temp_f14;
    f32 temp_f18;
    f32 phi_f14;

    temp_f12 = (this->unk_164 + this->unk_160) - func_80A9B2B8(&D_80A9E028);
    temp_f18 = this->unk_16C - temp_f12;
    sp24 = temp_f12;
    temp_f14 = (Math_SinS((s16) (s32) ((temp_f18 * 32768.0f) / (this->unk_168 - temp_f12))) * 140.0f) + 4.0f;
    phi_f14 = temp_f14;
    if (temp_f14 > 40.0f) {
        phi_f14 = 40.0f;
    }
    this->unk_16C -= phi_f14;
    if (this->unk_16C <= temp_f12) {
        func_80A9C634((bitwise void *) temp_f12, (bitwise GlobalContext *) phi_f14, this, globalCtx);
        func_80A9B160(&D_80A9E028, globalCtx);
        this->unk_16C = this->unk_164;
        func_80A9C18C(this, globalCtx);
        func_8019F128(0x2893U);
        func_80A9CC84(this);
        return;
    }
    func_800B8FE8((Actor *) this, 0x210EU);
}

void func_80A9D1E0(BgHakuginPost *this, void (*unkFunc)(BgHakuginPost *), f32 arg2, s16 arg3, s16 arg4) {
    this->unkFunc = unkFunc;
    this->unk_184 = arg4;
    this = this;
    this->unk_180 = ActorCutscene_GetLength(arg4);
    if ((s32) this->unk_180 < 0) {
        this->unk_180 = arg3;
    }
    this->dyna.actor.focus.pos.x = this->dyna.actor.home.pos.x;
    this->actionFunc = func_80A9D260;
    this->dyna.actor.focus.pos.z = this->dyna.actor.home.pos.z;
    this->dyna.actor.focus.pos.y = this->unk_16C + arg2;
}

void func_80A9D260(BgHakuginPost *this, GlobalContext *globalCtx) {
    BgHakuginPost *temp_a1;
    s16 temp_a0;
    s16 temp_a0_2;

    temp_a0 = this->unk_184;
    this = this;
    temp_a1 = this;
    if (ActorCutscene_GetCanPlayNext(temp_a0) != 0) {
        temp_a0_2 = temp_a1->unk_184;
        this = temp_a1;
        ActorCutscene_StartAndSetUnkLinkFields(temp_a0_2, (Actor *) temp_a1);
        this->unkFunc(this);
        return;
    }
    ActorCutscene_SetIntentToPlay(temp_a1->unk_184);
}

void func_80A9D2C4(BgHakuginPost *this, void (*unkFunc)(BgHakuginPost *), f32 arg2, s16 arg3, s16 arg4) {
    this->unkFunc = unkFunc;
    this->unk_184 = arg3;
    this->unk_180 = -1;
    this->unk_186 = arg4;
    this = this;
    this->unk_180 = ActorCutscene_GetLength(arg3);
    if ((s32) this->unk_180 < 0) {
        this->unk_180 = 0xF;
    }
    this->dyna.actor.focus.pos.x = this->dyna.actor.home.pos.x;
    this->actionFunc = func_80A9D360;
    this->dyna.actor.focus.pos.z = this->dyna.actor.home.pos.z;
    this->dyna.actor.focus.pos.y = this->unk_16C + arg2;
}

void func_80A9D360(BgHakuginPost *this, GlobalContext *globalCtx) {
    BgHakuginPost *temp_a1;
    s16 temp_a0;
    s16 temp_a0_2;

    temp_a0 = this->unk_184;
    this = this;
    temp_a1 = this;
    if (ActorCutscene_GetCanPlayNext(temp_a0) != 0) {
        temp_a0_2 = temp_a1->unk_184;
        this = temp_a1;
        ActorCutscene_StartAndSetUnkLinkFields(temp_a0_2, (Actor *) temp_a1);
        if ((s32) this->unk_186 >= 0) {
            func_80A9D3E4(this);
            return;
        }
        this->unkFunc(this);
        return;
    }
    ActorCutscene_SetIntentToPlay(temp_a1->unk_184);
}

void func_80A9D3E4(BgHakuginPost *this) {
    s16 temp_a0;

    temp_a0 = this->unk_186;
    this = this;
    this->unk_182 = ActorCutscene_GetLength(temp_a0);
    if ((s32) this->unk_182 < 0) {
        this->unk_182 = 0x1E;
    }
    this->actionFunc = func_80A9D434;
}

void func_80A9D434(BgHakuginPost *this, GlobalContext *globalCtx) {
    BgHakuginPost *temp_a1;
    s16 temp_a0;
    s16 temp_a0_2;

    temp_a0 = this->unk_186;
    this = this;
    temp_a1 = this;
    if (ActorCutscene_GetCanPlayNext(temp_a0) != 0) {
        temp_a0_2 = temp_a1->unk_186;
        this = temp_a1;
        ActorCutscene_StartAndSetUnkLinkFields(temp_a0_2, (Actor *) temp_a1);
        this->unkFunc(this);
        return;
    }
    ActorCutscene_SetIntentToPlay(temp_a1->unk_186);
}

void BgHakuginPost_Update(BgHakuginPost *this, GlobalContext *globalCtx) {
    s16 temp_v0_2;
    s16 temp_v1;
    s8 temp_v0_3;
    s8 temp_v0_4;
    void (*temp_v0)(BgHakuginPost *, GlobalContext *);
    BgHakuginPost *this = (BgHakuginPost *) thisx;

    func_80A9B46C(this, globalCtx);
    temp_v1 = this->unk_180;
    if (((s32) temp_v1 >= 0) && ((temp_v0 = this->actionFunc, (func_80A9D260 != temp_v0)) || (func_80A9D360 != temp_v0))) {
        this->unk_180 = temp_v1 - 1;
        if ((s32) this->unk_180 < 0) {
            ActorCutscene_Stop(this->unk_184);
        }
    }
    temp_v0_2 = this->unk_182;
    if (((s32) temp_v0_2 >= 0) && (func_80A9D434 != this->actionFunc)) {
        this->unk_182 = temp_v0_2 - 1;
        if ((s32) this->unk_182 < 0) {
            ActorCutscene_Stop(this->unk_186);
        }
    }
    temp_v0_3 = this->unk_178;
    if ((s32) temp_v0_3 > 0) {
        this->unk_178 = temp_v0_3 - 1;
    }
    temp_v0_4 = this->unk_179;
    if ((s32) temp_v0_4 > 0) {
        this->unk_179 = temp_v0_4 - 1;
    }
    func_80A9BC0C(&D_80A9E028);
    this->actionFunc(this, globalCtx);
    func_80A9BD24(this, globalCtx, &D_80A9E028);
    func_80A9C058(this, globalCtx, &D_80A9E028);
    func_80A9C228(this, globalCtx, &D_80A9E028);
    this->dyna.actor.scale.y = ((this->unk_16C + func_80A9B2B8(&D_80A9E028)) - this->dyna.actor.home.pos.y) * 0.0025f;
    if (this->dyna.actor.scale.y < 0.0001f) {
        this->dyna.actor.scale.y = 0.0001f;
    }
    func_80A9C854(this, globalCtx);
}

void func_80A9D61C(Actor *thisx, GlobalContext *globalCtx) {
    f32 sp70;
    f32 sp6C;
    f32 sp68;
    Gfx *temp_v0_2;
    Gfx *temp_v0_3;
    Gfx *temp_v0_4;
    Gfx *temp_v0_5;
    GraphicsContext *temp_a0;
    GraphicsContext *temp_s3;
    f32 *temp_a0_3;
    f32 temp_f12;
    s32 temp_a0_2;
    s32 temp_s4;
    s32 temp_v0;
    void *temp_s0;
    void *temp_s2;
    void *phi_s0;
    s32 phi_s4;
    s32 phi_a0;
    void *phi_s2;

    temp_a0 = globalCtx->state.gfxCtx;
    temp_s3 = temp_a0;
    func_8012C28C(temp_a0);
    SysMatrix_SetStateRotationAndTranslation(thisx->world.pos.x, thisx->world.pos.y, thisx->world.pos.z, (Vec3s *) &thisx->shape);
    Matrix_Scale(0.1f, 0.1f, 0.1f, 1);
    temp_a0_2 = *D_80A9E2C8;
    phi_s0 = &D_80A9E028;
    phi_s4 = 0;
    phi_a0 = temp_a0_2;
    if (temp_a0_2 > 0) {
        do {
            temp_v0 = phi_s0->unk34;
            if ((temp_v0 != 5) && (temp_v0 != 4)) {
                temp_a0_3 = &sp68;
                sp68 = phi_s0->unk14 + thisx->home.pos.x;
                sp6C = phi_s0->unk18 + thisx->unk16C;
                sp70 = phi_s0->unk1C + thisx->home.pos.z;
                func_80A9B384(temp_a0_3);
                temp_v0_2 = temp_s3->polyOpa.p;
                temp_s3->polyOpa.p = temp_v0_2 + 8;
                temp_v0_2->words.w0 = 0xDA380003;
                temp_v0_2->words.w1 = Matrix_NewMtx(globalCtx->state.gfxCtx);
                temp_v0_3 = temp_s3->polyOpa.p;
                temp_s3->polyOpa.p = temp_v0_3 + 8;
                temp_v0_3->words.w0 = 0xDE000000;
                temp_v0_3->words.w1 = *(&D_80A9D900 + (phi_s0->unk0 * 4));
                phi_a0 = *D_80A9E2C8;
            }
            temp_s4 = phi_s4 + 1;
            phi_s0 += 0x38;
            phi_s4 = temp_s4;
        } while (temp_s4 < phi_a0);
    }
    phi_s2 = &D_80A9E028;
    if (D_80A9F94C != 0) {
        do {
            temp_s0 = phi_s2 + 0x2A4;
            if ((s32) phi_s2->unk2D0 > 0) {
                SysMatrix_SetStateRotationAndTranslation(temp_s0->unk4, temp_s0->unk8, temp_s0->unkC, temp_s0 + 0x20);
                temp_f12 = temp_s0->unk0;
                Matrix_Scale(temp_f12, temp_f12, temp_f12, 1);
                temp_v0_4 = temp_s3->polyOpa.p;
                temp_s3->polyOpa.p = temp_v0_4 + 8;
                temp_v0_4->words.w0 = 0xDA380003;
                temp_v0_4->words.w1 = Matrix_NewMtx(globalCtx->state.gfxCtx);
                temp_v0_5 = temp_s3->polyOpa.p;
                temp_s3->polyOpa.p = temp_v0_5 + 8;
                temp_v0_5->words.w0 = 0xDE000000;
                temp_v0_5->words.w1 = *(&D_80A9D91C + (temp_s0->unk2D * 4));
            }
            temp_s2 = phi_s2 + 0x30;
            phi_s2 = temp_s2;
        } while (temp_s2 != &D_80A9F6A8);
    }
}
